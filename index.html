<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ë©˜íƒˆÂ·ê±´ê°• ê´€ë¦¬</title>
<style>
body{
  font-family: system-ui;
  background:linear-gradient(180deg,#eef2ff,#f9fafe);
  margin:0;
  padding:15px;
}
.card{
  background:white;
  border-radius:18px;
  padding:16px;
  margin-bottom:15px;
  box-shadow:0 8px 20px rgba(0,0,0,.08);
}
h2{margin:0 0 10px}
button{
  padding:8px 12px;
  border:none;
  border-radius:12px;
  background:#5a7cff;
  color:white;
  margin:4px 2px;
  width:100%;
}
input{
  width:100%;
  padding:9px;
  border-radius:10px;
  border:1px solid #ddd;
  box-sizing:border-box;
}
.character{
  font-size:64px;
  text-align:center;
  transition:.3s;
}
.small{font-size:13px;color:#666}

/* ì±„íŒ… */
.chat-box{
  height:190px;
  overflow-y:auto;
  background:#f3f5fb;
  border-radius:12px;
  padding:10px;
  font-size:14px;
}
.chat-user{text-align:right;margin:6px 0}
.chat-ai{text-align:left;margin:6px 0;color:#333}
</style>
</head>

<body>

<!-- íšŒì› -->
<div class="card" id="loginCard">
  <h2>ğŸ‘¤ íšŒì›</h2>
  <input id="username" placeholder="ë‹‰ë„¤ì„ ì…ë ¥">
  <button onclick="login()">ë¡œê·¸ì¸ / ê°€ì…</button>
  <p class="small" id="loginMsg"></p>
</div>

<!-- ìºë¦­í„° -->
<div class="card">
<h2>ğŸ§ ë‚´ ìºë¦­í„°</h2>
<div class="character" id="char">ğŸ˜</div>
<p class="small" id="charState"></p>
</div>

<!-- ë©˜íƒˆ -->
<div class="card">
<h2>ğŸ§  ì˜¤ëŠ˜ ë©˜íƒˆ</h2>
<button onclick="setMood('ğŸ˜„','ì¢‹ìŒ')">ì¢‹ìŒ</button>
<button onclick="setMood('ğŸ˜','ë³´í†µ')">ë³´í†µ</button>
<button onclick="setMood('ğŸ˜¢','ë‚˜ì¨')">ë‚˜ì¨</button>
</div>

<!-- ìˆ˜ë©´ -->
<div class="card">
<h2>ğŸŒ™ ìˆ˜ë©´ ì‹œê°„</h2>
<input type="number" id="sleep" placeholder="ìˆ˜ë©´ ì‹œê°„ (ì‹œê°„)">
<button onclick="saveSleep()">ì €ì¥</button>
<p class="small" id="sleepMsg"></p>
</div>

<!-- ê°€ê³„ë¶€ -->
<div class="card">
<h2>ğŸ’° ê°€ê³„ë¶€</h2>
<input type="number" step="0.01" id="money" placeholder="ê¸ˆì•¡ (ì†Œìˆ«ì  ê°€ëŠ¥)">
<button onclick="saveMoney()">ê¸°ë¡</button>
<p id="moneyLog"></p>
</div>

<!-- ìŒì‹ ì¶”ì²œ -->
<div class="card">
<h2>ğŸ¥— ì˜¤ëŠ˜ì˜ ì¶”ì²œ ìŒì‹</h2>
<p id="food"></p>
</div>

<!-- ë¯¸ë‹ˆê²Œì„ -->
<div class="card">
<h2>ğŸ® ë¯¸ë‹ˆ ê²Œì„</h2>
<p>Q. ìŠ¤íŠ¸ë ˆìŠ¤ ì™„í™”ì— ë„ì›€ ë˜ëŠ” ê±´?</p>
<button onclick="game(true)">ì‚°ì±…</button>
<button onclick="game(false)">ë°¤ìƒ˜</button>
<p id="gameMsg" class="small"></p>
</div>

<!-- ëŒ€í™” -->
<div class="card">
<h2>ğŸ—¨ï¸ ë©˜íƒˆ ì¼€ì–´ ëŒ€í™”</h2>
<div class="chat-box" id="chatBox"></div>
<input id="chatInput" placeholder="ì§€ê¸ˆ ìƒíƒœë¥¼ ë§í•´ì¤˜">
<button onclick="sendChat()">ë³´ë‚´ê¸°</button>
</div>

<script>
// ê¸°ë³¸ ë³€ìˆ˜
const char=document.getElementById("char");
const charState=document.getElementById("charState");
const chatBox=document.getElementById("chatBox");
const foodList=["ê³ êµ¬ë§ˆ","ê³„ë€","ìš”ê±°íŠ¸","ë°”ë‚˜ë‚˜","ì—°ì–´"];

let memory=JSON.parse(localStorage.getItem("chatMemory")||"[]");
let currentUser=localStorage.getItem("currentUser");

// íšŒì› ê¸°ëŠ¥
function login(){
  const name=document.getElementById("username").value.trim();
  if(!name){document.getElementById("loginMsg").textContent="ë‹‰ë„¤ì„ì„ ì…ë ¥!";return;}
  currentUser=name;
  localStorage.setItem("currentUser",name);
  if(!localStorage.getItem(name)){
    localStorage.setItem(name,JSON.stringify({
      mood:"ğŸ˜",sleep:"",money:"",chat:[]
    }));
  }
  document.getElementById("loginMsg").textContent=name+" ë‹˜ í™˜ì˜!";
  loadUser();
}

function loadUser(){
  if(!currentUser) return;
  const data=JSON.parse(localStorage.getItem(currentUser));
  char.textContent=data.mood||"ğŸ˜";
  document.getElementById("moneyLog").textContent=data.money?"ìµœê·¼ ê¸°ë¡: "+data.money+"ì›":"";
}

// ë©˜íƒˆ
function setMood(emoji,text){
  if(!currentUser){alert("ë¡œê·¸ì¸ ë¨¼ì €!");return;}
  const data=JSON.parse(localStorage.getItem(currentUser));
  char.textContent=emoji;
  charState.textContent="í˜„ì¬ ìƒíƒœ: "+text;
  data.mood=emoji;
  localStorage.setItem(currentUser,JSON.stringify(data));
}

// ìˆ˜ë©´
function saveSleep(){
  if(!currentUser){alert("ë¡œê·¸ì¸ ë¨¼ì €!");return;}
  const s=document.getElementById("sleep").value;
  const data=JSON.parse(localStorage.getItem(currentUser));
  data.sleep=s;
  localStorage.setItem(currentUser,JSON.stringify(data));
  document.getElementById("sleepMsg").textContent=s<6?"ìˆ˜ë©´ ë¶€ì¡± ğŸ˜µ":"ì˜ ìê³  ìˆì–´ ğŸ‘";
}

// ê°€ê³„ë¶€
function saveMoney(){
  if(!currentUser){alert("ë¡œê·¸ì¸ ë¨¼ì €!");return;}
  const m=document.getElementById("money").value;
  const data=JSON.parse(localStorage.getItem(currentUser));
  data.money=m;
  localStorage.setItem(currentUser,JSON.stringify(data));
  document.getElementById("moneyLog").textContent="ìµœê·¼ ê¸°ë¡: "+m+"ì›";
}

// ìŒì‹ ì¶”ì²œ
document.getElementById("food").textContent=
  foodList[Math.floor(Math.random()*foodList.length)];

// ë¯¸ë‹ˆê²Œì„
function game(ok){
  document.getElementById("gameMsg").textContent=
    ok?"ì •ë‹µ! ë©˜íƒˆ íšŒë³µ +1":"ì•„ì‰¬ì›Œìš”â€¦ ë©˜íƒˆ -1";
}

// ëŒ€í™”
function sendChat(){
  const input=document.getElementById("chatInput");
  const msg=input.value.trim();
  if(!msg){return;}
  if(!currentUser){alert("ë¡œê·¸ì¸ ë¨¼ì €!");return;}
  addChat("ğŸ™‚",msg,"chat-user");
  input.value="";
  setTimeout(()=>reply(msg),500);
}

function addChat(icon,text,cls){
  chatBox.innerHTML+=`<div class="${cls}">${icon} ${text}</div>`;
  chatBox.scrollTop=chatBox.scrollHeight;
}

function reply(msg){
  let r="ì‘, ê³„ì† ë§í•´ì¤˜.";
  if(msg.includes("í˜ë“¤")){r="ê·¸ë§Œí¼ ë²„í…¨ì˜¨ ë„¤ê°€ ëŒ€ë‹¨í•´.";char.textContent="ğŸ˜¢";}
  else if(msg.includes("ë¶ˆì•ˆ")){r="ì§€ê¸ˆì€ ì•ˆì „í•´. ìˆ¨ ì²œì²œíˆ.";char.textContent="ğŸ˜Ÿ";}
  else if(msg.includes("í–‰ë³µ")){r="ê·¸ ê°ì • ì˜¤ë˜ ê¸°ì–µí•˜ì ğŸ˜Š";char.textContent="ğŸ˜„";}
  else if(msg.includes("ì¡¸ë ¤")){r="ì˜¤ëŠ˜ì€ ì¼ì° ì‰¬ì.";char.textContent="ğŸ¥±";}
  addChat("ğŸ¤",r,"chat-ai");
  const data=JSON.parse(localStorage.getItem(currentUser));
  data.chat.push({u:msg,a:r});
  localStorage.setItem(currentUser,JSON.stringify(data));
  memory.push({u:msg,a:r});
  localStorage.setItem("chatMemory",JSON.stringify(memory));
}

// ìë™ ë¡œê·¸ì¸
if(currentUser){loadUser();}
</script>
</body>
</html>

<!-- deploy test -->
