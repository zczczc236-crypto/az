<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ê±´ê°•Â·ë©˜íƒˆ ê´€ë¦¬ ì•± - ë°ì´í„° ì™„ì „ í¬í•¨</title>
<style>
body { font-family: system-ui; margin:0; background: linear-gradient(135deg,#a1c4fd,#c2e9fb); color:#333; }
.container { max-width:420px; margin:0 auto; padding:15px; }
header { background:#4f46e5; color:white; text-align:center; padding:15px; font-size:18px; border-radius:0 0 15px 15px;}
.menu { display:flex; justify-content:space-around; margin:10px 0; flex-wrap:wrap; }
.menu button { flex:1; margin:3px; padding:10px; border:none; border-radius:10px; background:#6b7280; color:white; cursor:pointer;}
.screen { display:none; }
.screen.active { display:block;}
.card { background:white; border-radius:16px; padding:15px; margin-bottom:15px; box-shadow:0 6px 15px rgba(0,0,0,.08);}
input,select { width:100%; padding:8px;margin-top:5px;margin-bottom:5px;}
#chatBox { height:250px; overflow-y:auto; border:1px solid #ddd; padding:10px; border-radius:10px; background:#f9f9f9;}
.msg { margin-bottom:10px;}
.user { font-weight:bold; color:#4f46e5;}
.ai { font-weight:bold; color:#16a34a;}
</style>
</head>
<body>
<header>ê±´ê°•Â·ë©˜íƒˆ ê´€ë¦¬ ì•±</header>

<div class="container">
  <div class="menu">
    <button onclick="showScreen('login')">ë¡œê·¸ì¸</button>
    <button onclick="showScreen('mental')">ë©˜íƒˆ</button>
    <button onclick="showScreen('food')">ìŒì‹</button>
    <button onclick="showScreen('game')">ë¯¸ë‹ˆê²Œì„</button>
    <button onclick="showScreen('chat')">AI ìƒë‹´</button>
    <button onclick="logout()">ë¡œê·¸ì•„ì›ƒ</button>
  </div>

  <!-- ë¡œê·¸ì¸ -->
  <div class="screen" id="login">
    <div class="card">
      <h2>ë¡œê·¸ì¸ / íšŒì›ê°€ì…</h2>
      <input type="text" id="username" placeholder="ì´ë¦„">
      <input type="number" id="age" placeholder="ë‚˜ì´">
      <input type="password" id="password" placeholder="ë¹„ë°€ë²ˆí˜¸">
      <button onclick="signup()">íšŒì›ê°€ì…</button>
      <button onclick="login()">ë¡œê·¸ì¸</button>
      <p id="loginMsg"></p>
    </div>
  </div>

  <!-- ë©˜íƒˆ -->
  <div class="screen" id="mental">
    <div class="card">
      <h2>ğŸ§ ë©˜íƒˆ ìƒíƒœ</h2>
      <button onclick="setMood('ğŸ˜„')">ì¢‹ìŒ</button>
      <button onclick="setMood('ğŸ˜')">ë³´í†µ</button>
      <button onclick="setMood('ğŸ˜¢')">ë‚˜ì¨</button>
      <p id="moodComment"></p>
    </div>
    <div class="card">
      <h2>ğŸŒ™ ìˆ˜ë©´ ì‹œê°„</h2>
      <select id="sleepPeriod"><option>ì˜¤ì „</option><option>ì˜¤í›„</option></select>
      <input type="number" id="sleep" placeholder="ì‹œê°„ ì…ë ¥">
      <button onclick="saveSleep()">ì €ì¥</button>
      <p id="sleepLog"></p>
    </div>
  </div>

  <!-- ìŒì‹ -->
  <div class="screen" id="food">
    <div class="card">
      <h2>ğŸ¥— ì˜¤ëŠ˜ì˜ ì¶”ì²œ ìŒì‹</h2>
      <p id="foodDisplay"></p>
      <button onclick="pickFood()">ìƒˆë¡œ ì¶”ì²œ</button>
    </div>
  </div>

  <!-- ë¯¸ë‹ˆê²Œì„ -->
  <div class="screen" id="game">
    <div class="card">
      <h2>ğŸ® ë¯¸ë‹ˆê²Œì„</h2>
      <p id="gameQ"></p>
      <input type="text" id="gameAns" placeholder="ì •ë‹µ ì…ë ¥">
      <button onclick="submitGame()">ì œì¶œ</button>
      <p id="gameResult"></p>
      <button onclick="newGame()">ë‹¤ìŒ ë¬¸ì œ</button>
    </div>
  </div>

  <!-- AI ìƒë‹´ -->
  <div class="screen" id="chat">
    <div class="card">
      <h2>ğŸ’¬ AI ìƒë‹´</h2>
      <div id="chatBox"></div>
      <input type="text" id="userInput" placeholder="ë©”ì‹œì§€ ì…ë ¥">
      <button onclick="sendMessage()">ì „ì†¡</button>
    </div>
  </div>

</div>

<script>
// ================= ì‹¤ì œ ë°ì´í„° ìƒì„± (ì•± ìŠ¤ì¼€ì¼) =================

// ğŸ” ìŒì‹ 5000ê°œ ìƒì„±
const baseFoods = [
"ë‹­ê°€ìŠ´ì‚´","ê³„ë€","ì—°ì–´","ë‘ë¶€","ì•„ëª¬ë“œ","í˜¸ë‘","ë°”ë‚˜ë‚˜","ì‚¬ê³¼","ì˜¤ë Œì§€",
"ë¸Œë¡œì½œë¦¬","ì‹œê¸ˆì¹˜","ê³ êµ¬ë§ˆ","ì˜¤íŠ¸ë°€","ìš”ê±°íŠ¸","ì¹˜ì¦ˆ","ì½©","ê·€ë¦¬","ë§ê³ ",
"íŒŒí”„ë¦¬ì¹´","í† ë§ˆí† ","í¬ë„","ë¸”ë£¨ë² ë¦¬","ì•„ë³´ì¹´ë„","í‚¤ìœ„","ìˆ˜ë°•","ë©œë¡ ",
"ë°”ì§ˆ","ì‹œë‚˜ëª¬","ì—°ê·¼","ë²„ì„¯","ì•„ìŠ¤íŒŒë¼ê±°ìŠ¤","ë Œí‹¸ì½©"
];
let foods=[];
for(let i=0;i<5000;i++){
  let f = baseFoods[i%baseFoods.length];
  foods.push({cat:"ì˜ì–‘ì‹", name:`${f} ${Math.floor(i/baseFoods.length)+1}`});
}

// ğŸ§  AI í‚¤ì›Œë“œ 2000ê°œ ìƒì„±
const baseKeywords=[
"í˜ë“¤","ìŠ¤íŠ¸ë ˆìŠ¤","ìš°ìš¸","ìŠ¬í¼","ë¶ˆì•ˆ","í”¼ê³¤","ì¡¸ë ¤","ë¶ˆë©´","ì§‘ì¤‘","ê³µë¶€",
"ëª©ë§ˆë¦„","ë°°ê³ íŒŒ","ì²´ì¤‘","ìš´ë™","ë‹¤ì´ì–´íŠ¸","ì‹ë‹¨","ê·¼ìœ¡","í†µì¦","ë‘í†µ",
"ë¶ˆì•ˆê°","ê¸´ì¥","ì´ˆì¡°","í™”ë‚¨","ì§œì¦","ë¶€ë‹´","ê±±ì •","ìš°ìš¸ê°","ì—´ì‹¬","ë‚™ë‹´",
"ëª©í‘œ","ì„±ì·¨","íœ´ì‹","íœ´ê°€","í¸ì•ˆ","í¸ì•ˆí•¨"
];
let aiData=[];
for(let i=0;i<2000;i++){
  let k = baseKeywords[i%baseKeywords.length];
  aiData.push({k:[k], r:[
    `ì €ëŠ” ${k} ë•Œë¬¸ì— ê³ ë¯¼ì´ì‹ ê°€ìš”? ì²œì²œíˆ ìˆ¨ì„ ì‰¬ì–´ë³´ì„¸ìš”.`,
    `${k}ì„ ëŠë‚„ ë•ŒëŠ” ì§§ì€ ì‚°ì±…ì´ë‚˜ íœ´ì‹ì´ ë„ì›€ì´ ë©ë‹ˆë‹¤.`,
    `${k} ìƒíƒœë¼ë©´ ê°€ë²¼ìš´ ìŠ¤íŠ¸ë ˆì¹­ì„ í•´ë³´ì„¸ìš”.`
  ]});
}

// ğŸ¯ ë¯¸ë‹ˆê²Œì„ 500ê°œ ìƒì„±
const baseGameQ=[
  {q:"í•˜ë£¨ ê¶Œì¥ ë¬¼ ì„­ì·¨ëŸ‰ì€?",a:"2L"},
  {q:"í•˜ë£¨ ê¶Œì¥ ìˆ˜ë©´ ì‹œê°„ì€?",a:"8"},
  {q:"ìŠ¤íŠ¸ë ˆì¹­ ê¶Œì¥ ì‹œê°„ì€?",a:"10"},
  {q:"ì•„ì¹¨ ì‹ì‚¬ë¡œ ì¢‹ì€ ë‹¨ë°±ì§ˆ?",a:"ê³„ë€"},
  {q:"ì‰¬ìš´ ìœ ì‚°ì†Œ ìš´ë™ì€?",a:"ê±·ê¸°"},
  {q:"ì‹¬í˜¸í¡ ê¶Œì¥ íšŸìˆ˜?",a:"5"}
];
let games=[];
for(let i=0;i<500;i++){
  let g = baseGameQ[i%baseGameQ.length];
  games.push({q:`${g.q} (${i+1})`, a:g.a});
}

// ================= ë³€ìˆ˜ =================
let currentGame={};
let currentUser=null;
let moodComments={
  "ğŸ˜„":["ì¢‹ì•„ìš”! ë©‹ì§„ í•˜ë£¨ì˜ˆìš” ğŸ˜„","í–‰ë³µí•œ ê¸°ìš´ì´ ëŠê»´ì ¸ìš”!"],
  "ğŸ˜":["ë³´í†µì´ë„¤ìš”. ì²œì²œíˆ ê°€ë„ ê´œì°®ì•„ìš”.","ê· í˜• ì¡íŒ í•˜ë£¨ ë³´ë‚´ìš”!"],
  "ğŸ˜¢":["í˜ë“¤ì–´ë„ ì˜ í•˜ê³  ìˆì–´ìš”.","ì¡°ê¸ˆ ì‰¬ì–´ë„ ê´œì°®ì•„ìš”."]
};

// ================= í™”ë©´ ì „í™˜ =================
function showScreen(id){
  document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

// ================= íšŒì› =================
function signup(){
  let name=document.getElementById("username").value;
  let age=document.getElementById("age").value;
  let pw=document.getElementById("password").value;
  if(!name||!age||!pw){document.getElementById("loginMsg").textContent="ëª¨ë“  í•­ëª© ì…ë ¥!";return;}
  let users=JSON.parse(localStorage.getItem("users")||"{}");
  if(users[name]){document.getElementById("loginMsg").textContent="ì´ë¯¸ ìˆëŠ” ì´ë¦„";return;}
  users[name]={age:age,password:pw};
  localStorage.setItem("users",JSON.stringify(users));
  document.getElementById("loginMsg").textContent="íšŒì›ê°€ì… ì™„ë£Œ!";
}

function login(){
  let name=document.getElementById("username").value;
  let pw=document.getElementById("password").value;
  let users=JSON.parse(localStorage.getItem("users")||"{}");
  if(users[name]&&users[name].password===pw){
    currentUser={name:name,age:users[name].age};
    document.getElementById("loginMsg").textContent=`í™˜ì˜í•©ë‹ˆë‹¤, ${name}ë‹˜!`;
    showScreen("mental");
    loadUserData();
  } else {document.getElementById("loginMsg").textContent="ë¡œê·¸ì¸ ì‹¤íŒ¨";}
}

function logout(){currentUser=null; showScreen("login");}

// ================= ë©˜íƒˆ =================
function setMood(m){
  document.getElementById("moodComment").textContent=moodComments[m][Math.floor(Math.random()*moodComments[m].length)];
  if(currentUser){
    let d=JSON.parse(localStorage.getItem("userData")||"{}");
    if(!d[currentUser.name])d[currentUser.name]={};
    d[currentUser.name].mood=m;
    localStorage.setItem("userData",JSON.stringify(d));
  }
}

// ================= ìˆ˜ë©´ =================
function saveSleep(){
  let s=document.getElementById("sleep").value;
  let p=document.getElementById("sleepPeriod").value;
  if(!currentUser){alert("ë¡œê·¸ì¸ í•„ìš”");return;}
  if(!s){alert("ì‹œê°„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”");return;}
  let d=JSON.parse(localStorage.getItem("userData")||"{}"); if(!d[currentUser.name])d[currentUser.name]={};
  d[currentUser.name].sleep=`${p} ${s}ì‹œê°„`;
  localStorage.setItem("userData",JSON.stringify(d));
  document.getElementById("sleepLog").textContent=`ìµœê·¼ ê¸°ë¡: ${p} ${s}ì‹œê°„`;
}

function loadUserData(){
  let d=JSON.parse(localStorage.getItem("userData")||"{}");
  if(d[currentUser.name] && d[currentUser.name].sleep){
    document.getElementById("sleepLog").textContent=`ìµœê·¼ ê¸°ë¡: ${d[currentUser.name].sleep}`;
  }
}

// ================= ìŒì‹ =================
function pickFood(){ if(!foods.length)return;
  let f=foods[Math.floor(Math.random()*foods.length)];
  document.getElementById("foodDisplay").textContent=`${f.cat}: ${f.name}`;
}

// ================= ë¯¸ë‹ˆê²Œì„ =================
function newGame(){ if(!games.length)return;
  currentGame=games[Math.floor(Math.random()*games.length)];
  document.getElementById("gameQ").textContent=currentGame.q;
  document.getElementById("gameAns").value="";
  document.getElementById("gameResult").textContent="";
}

function submitGame(){
  let ans=document.getElementById("gameAns").value.trim();
  if(ans===currentGame.a){document.getElementById("gameResult").textContent="âœ… ì •ë‹µ!";} 
  else {document.getElementById("gameResult").textContent=`âŒ ì˜¤ë‹µ! ì •ë‹µ: ${currentGame.a}`;}
}

// ================= AI ìƒë‹´ =================
function sendMessage(){
  let input=document.getElementById("userInput").value.trim(); if(!input)return;
  addChat("user",input); document.getElementById("userInput").value="";
  let reply="ì£„ì†¡í•´ìš”, ì´í•´ ëª»í–ˆì–´ìš” ğŸ™";
  for(let item of aiData){
    if(item.k.some(kw=>input.includes(kw))){
      reply=item.r[Math.floor(Math.random()*item.r.length)]; break;
    }
  }
  addChat("ai",reply);
}

function addChat(type,text){
  let chat=document.getElementById("chatBox");
  let div=document.createElement("div");
  div.className="msg "+type; div.textContent=text;
  chat.appendChild(div); chat.scrollTop=chat.scrollHeight;
}

// ì´ˆê¸°
showScreen("login");
</script>
</body>
</html>


<!-- deploy test -->
