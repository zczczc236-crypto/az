<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ë§ˆìŒ ì±™ê¹€ & ê±´ê°• Pro</title>
<style>
:root { --primary:#6366f1;--primary-dark:#4f46e5;--accent:#10b981;--accent-dark:#059669;--danger:#ef4444;--danger-dark:#dc2626;--bg:#f9fafb;--bg-dark:#111827;--card:#fff;--card-dark:#1f2937;--text:#1f2937;--text-dark:#f9fafb;--text-muted:#6b7280;--text-muted-dark:#9ca3af;--border:#e5e7eb;--border-dark:#374151;--shadow:rgba(0,0,0,0.1);--shadow-dark:rgba(0,0,0,0.3);--transition:all 0.3s cubic-bezier(0.4,0,0.2,1);}
[data-theme="dark"]{--bg:var(--bg-dark);--card:var(--card-dark);--text:var(--text-dark);--text-muted:var(--text-muted-dark);--border:var(--border-dark);--shadow:var(--shadow-dark);}
*{box-sizing:border-box;margin:0;padding:0;}
body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Noto Sans KR",Malgun Gothic,Roboto,Arial,sans-serif;background:var(--bg);color:var(--text);line-height:1.6;overflow-x:hidden;transition:var(--transition);}
.app-container{max-width:480px;margin:0 auto;min-height:100vh;background:var(--card);box-shadow:0 0 40px var(--shadow);display:flex;flex-direction:column;position:relative;}
header{background:linear-gradient(135deg,var(--primary),var(--primary-dark));color:white;padding:20px;text-align:center;box-shadow:0 4px 12px rgba(99,102,241,0.3);position:sticky;top:0;z-index:100;display:flex;justify-content:space-between;align-items:center;}
header h1{font-size:1.25rem;font-weight:700;flex:1;}
.theme-toggle{background:rgba(255,255,255,0.2);border:none;color:white;font-size:1.5rem;width:40px;height:40px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:var(--transition);}
.theme-toggle:hover{background:rgba(255,255,255,0.3);transform: scale(1.1);}
.screen{display:none;padding:20px;padding-bottom:100px;flex:1;overflow-y:auto;animation:fadeIn 0.3s ease-in;}
.screen.active{display:block;}
@keyframes fadeIn{from{opacity:0;transform:translateY(10px);}to{opacity:1;transform:translateY(0);}}
.card{background:var(--card);border-radius:16px;padding:20px;margin-bottom:16px;box-shadow:0 2px 8px var(--shadow);border:1px solid var(--border);transition:var(--transition);}
.card:hover{box-shadow:0 4px 16px var(--shadow);transform:translateY(-2px);}
.card h2{font-size:1.25rem;margin-bottom:12px;color:var(--text);}
.card h3{font-size:1.1rem;margin-bottom:10px;color:var(--text);}
.btn{width:100%;padding:14px 20px;border:none;border-radius:12px;font-weight:600;font-size:1rem;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:8px;transition:var(--transition);}
.btn-primary{background:linear-gradient(135deg,var(--primary),var(--primary-dark));color:white;}
.btn-primary:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px rgba(99,102,241,0.4);}
.btn-secondary{background:var(--bg);color:var(--primary);border:2px solid var(--primary);}
.btn-secondary:hover:not(:disabled){background:var(--primary);color:white;}
.btn-danger{background:linear-gradient(135deg,var(--danger),var(--danger-dark));color:white;}
.btn-danger:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px rgba(239,68,68,0.4);}
.btn-accent{background:linear-gradient(135deg,var(--accent),var(--accent-dark));color:white;}
.btn-accent:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px rgba(16,185,129,0.4);}
.btn:disabled{opacity:0.5;cursor:not-allowed;}
.btn-group{display:flex;gap:10px;}
.btn-group .btn{flex:1;}
input, select, textarea{width:100%;padding:12px 16px;border:2px solid var(--border);border-radius:10px;font-size:1rem;background:var(--card);color:var(--text);transition:var(--transition);font-family:inherit;}
input:focus, select:focus, textarea:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px rgba(99,102,241,0.1);}
.input-group{margin-bottom:12px;}
.input-group label{display:block;margin-bottom:6px;font-weight:600;color:var(--text);}
.mood-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:16px;}
.mood-btn{background:var(--bg);border:3px solid var(--border);border-radius:16px;padding:20px;font-size:2.5rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:var(--transition);aspect-ratio:1;}
.mood-btn:hover{transform:scale(1.1);border-color:var(--primary);box-shadow:0 4px 12px var(--shadow);}
.mood-btn:active{transform:scale(0.95);}
.list{list-style:none;padding:0;margin:0;}
.list-item{padding:12px;border-bottom:1px solid var(--border);transition:var(--transition);}
.list-item:last-child{border-bottom:none;}
.list-item:hover{background:var(--bg);}
.food-result{background:var(--bg);padding:20px;border-radius:12px;text-align:center;font-size:1.3rem;font-weight:700;color:var(--primary);min-height:80px;display:flex;align-items:center;justify-content:center;transition:var(--transition);}
.food-result.animating{animation:foodPulse 0.5s ease-in-out;}
@keyframes foodPulse{0%,100%{transform:scale(1);}50%{transform:scale(1.05);}}
.quiz-card{margin-top:10px;}
.hidden{display:none;}
</style>
</head>
<body>
<div class="app-container">

<header>
<h1 id="headerTitle">ë§ˆìŒ ì±™ê¹€ & ê±´ê°• Pro</h1>
<button class="theme-toggle" onclick="app.toggleTheme()" aria-label="í…Œë§ˆ ì „í™˜"><span id="themeIcon">ğŸŒ™</span></button>
</header>

<!-- LOGIN SCREEN -->
<div id="screen-login" class="screen active">
<div class="card text-center" style="margin-top:60px;">
<div style="font-size:4rem;margin-bottom:16px;">ğŸ§˜</div>
<h2>í™˜ì˜í•©ë‹ˆë‹¤</h2>
<p class="text-muted mb-2">AIì™€ í•¨ê»˜í•˜ëŠ” ê±´ê°•í•œ ëª¸ê³¼ ë§ˆìŒ</p>
<div id="loginBox">
<div class="input-group"><input id="loginId" type="text" placeholder="ì•„ì´ë””"></div>
<div class="input-group"><input id="loginPw" type="password" placeholder="ë¹„ë°€ë²ˆí˜¸"></div>
<button class="btn btn-primary mb-1" onclick="app.auth.login()">ë¡œê·¸ì¸</button>
<button class="btn btn-secondary" onclick="app.ui.toggleSignup(true)">íšŒì›ê°€ì…</button>
</div>
<div id="signupBox" class="hidden">
<div class="input-group"><input id="regId" type="text" placeholder="ì•„ì´ë””"></div>
<div class="input-group"><input id="regPw" type="password" placeholder="ë¹„ë°€ë²ˆí˜¸"></div>
<div class="input-group"><input id="regAge" type="number" placeholder="ë‚˜ì´" min="1" max="150"></div>
<button class="btn btn-primary mb-1" onclick="app.auth.signup()">ê°€ì…í•˜ê¸°</button>
<button class="btn btn-secondary" onclick="app.ui.toggleSignup(false)">ë¡œê·¸ì¸ìœ¼ë¡œ</button>
</div>
<p id="authMsg" class="text-muted mt-1" style="color: var(--danger);"></p>
</div>
</div>

<!-- HOME SCREEN -->
<div id="screen-home" class="screen">
<div class="card">
<h2>ğŸ‘‹ ì•ˆë…•í•˜ì„¸ìš”, <span id="userNameDisplay">ê²ŒìŠ¤íŠ¸</span>ë‹˜!</h2>
<p id="greetingMsg" class="text-muted">ì˜¤ëŠ˜ë„ ê±´ê°•í•œ í•˜ë£¨ ë˜ì„¸ìš”.</p>
</div>

<div class="card" style="cursor:pointer;" onclick="app.nav.go('mental')">
<h2>ğŸ’— í˜„ì¬ ê¸°ë¶„</h2>
<div id="homeMoodDisplay" class="stat-value" style="font-size:1.5rem;">ê¸°ë¡ ì—†ìŒ</div>
<p class="text-muted text-small">íƒ­í•˜ì—¬ ê¸°ë¡í•˜ê¸°</p>
</div>

<div class="card">
<h2>ğŸ½ ì˜¤ëŠ˜ì˜ ì¶”ì²œ ì‹ë‹¨</h2>
<div id="homeFoodResult" class="food-result">ì¶”ì²œë°›ì•„ë³´ì„¸ìš”</div>
<div class="btn-group mt-1">
<button class="btn btn-accent" onclick="app.food.recommend('#homeFoodResult')">ì¶”ì²œë°›ê¸°</button>
<button class="btn btn-secondary" onclick="app.food.recommend('#homeFoodResult')">ë‹¤ì‹œ</button>
</div>
</div>

<div class="card" style="cursor:pointer;" onclick="app.nav.go('sleep')">
<h2>ğŸ›Œ ìˆ˜ë©´ ì²´í¬</h2>
<p class="text-muted">ì˜¤ëŠ˜ ë°¤ ì¶©ë¶„íˆ ì¤ë‚˜ìš”?</p>
</div>

<div class="card" style="cursor:pointer;" onclick="app.nav.go('quiz')">
<h2>ğŸ“ ì •ì‹  ê±´ê°• ìê°€ì§„ë‹¨</h2>
<p class="text-muted">í€´ì¦ˆë¡œ ì²´í¬í•´ë³´ì„¸ìš”</p>
</div>

<div class="card" style="cursor:pointer;" onclick="app.auth.logout()">
<h2>ğŸšª ë¡œê·¸ì•„ì›ƒ</h2>
</div>

</div>

<!-- MENTAL SCREEN -->
<div id="screen-mental" class="screen">
<div class="card">
<h2>ğŸ’— ì˜¤ëŠ˜ì˜ ê¸°ë¶„ ê¸°ë¡</h2>
<div class="mood-grid">
<button class="mood-btn" onclick="app.mood.record('ğŸ˜„')">ğŸ˜„</button>
<button class="mood-btn" onclick="app.mood.record('ğŸ™‚')">ğŸ™‚</button>
<button class="mood-btn" onclick="app.mood.record('ğŸ˜')">ğŸ˜</button>
<button class="mood-btn" onclick="app.mood.record('ğŸ˜”')">ğŸ˜”</button>
<button class="mood-btn" onclick="app.mood.record('ğŸ˜¢')">ğŸ˜¢</button>
<button class="mood-btn" onclick="app.mood.record('ğŸ˜¡')">ğŸ˜¡</button>
</div>
<button class="btn btn-secondary mt-2" onclick="app.nav.go('home')">í™ˆìœ¼ë¡œ</button>
</div>
</div>

<!-- SLEEP SCREEN -->
<div id="screen-sleep" class="screen">
<div class="card">
<h2>ğŸ›Œ ìˆ˜ë©´ ì²´í¬</h2>
<div class="input-group"><label>ëª‡ ì‹œê°„ ì¤ë‚˜ìš”?</label><input id="sleepInput" type="number" placeholder="ì˜ˆ: 7" min="0" max="24"></div>
<button class="btn btn-accent" onclick="app.sleep.record()">ê¸°ë¡í•˜ê¸°</button>
<button class="btn btn-secondary mt-2" onclick="app.nav.go('home')">í™ˆìœ¼ë¡œ</button>
<div id="sleepMsg" class="text-muted mt-2"></div>
</div>
</div>

<!-- QUIZ SCREEN -->
<div id="screen-quiz" class="screen">
<div class="card">
<h2>ğŸ“ ì •ì‹  ê±´ê°• ìê°€ì§„ë‹¨</h2>
<div id="quizContainer"></div>
<button class="btn btn-secondary mt-2" onclick="app.nav.go('home')">í™ˆìœ¼ë¡œ</button>
</div>
</div>

</div>

<script>
const app = {
  theme:'light',
  user:{name:'ê²ŒìŠ¤íŠ¸', mood:'', moods:[], foodHistory:[], sleep:[]},
  nav:{go:(id)=>{document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));document.getElementById('screen-'+id).classList.add('active');}},
  toggleTheme:function(){
    if(this.theme==='light'){document.documentElement.setAttribute('data-theme','dark');this.theme='dark';document.getElementById('themeIcon').textContent='â˜€ï¸';}
    else{document.documentElement.setAttribute('data-theme','light');this.theme='light';document.getElementById('themeIcon').textContent='ğŸŒ™';}
  },
  auth:{
    login:function(){
      const id=document.getElementById('loginId').value.trim();
      if(!id){alert('ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš”');return;}
      app.user.name=id;
      document.getElementById('userNameDisplay').textContent=id;
      app.nav.go('home');
    },
    signup:function(){alert('íšŒì›ê°€ì… ì™„ë£Œ! ë¡œê·¸ì¸í•˜ì„¸ìš”.');app.ui.toggleSignup(false);},
    logout:function(){app.user={name:'ê²ŒìŠ¤íŠ¸', mood:'', moods:[], foodHistory:[], sleep:[]};app.nav.go('login');}
  },
  ui:{toggleSignup:function(show){document.getElementById('signupBox').classList.toggle('hidden',!show);document.getElementById('loginBox').classList.toggle('hidden',show?true:false);}},
  mood:{
    record:function(emo){app.user.moods.push({date:new Date(), mood:emo});document.getElementById('homeMoodDisplay').textContent=emo;alert('ì˜¤ëŠ˜ ê¸°ë¶„ ê¸°ë¡ ì™„ë£Œ!');app.nav.go('home');}
  },
  food:{
    list:['ğŸ ì‚¬ê³¼','ğŸ¥— ìƒëŸ¬ë“œ','ğŸ” í–„ë²„ê±°','ğŸ£ ì´ˆë°¥','ğŸœ ë¼ë©´','ğŸ¥¦ ë¸Œë¡œì½œë¦¬','ğŸ• í”¼ì','ğŸ¥© ìŠ¤í…Œì´í¬'],
    recommend:function(sel){const idx=Math.floor(Math.random()*this.list.length);const el=document.querySelector(sel);el.textContent=this.list[idx];el.classList.add('animating');setTimeout(()=>el.classList.remove('animating'),500);}
  },
  sleep:{
    record:function(){const hrs=parseInt(document.getElementById('sleepInput').value);if(isNaN(hrs)||hrs<0||hrs>24){alert('0~24 ì‚¬ì´ ì…ë ¥');return;}app.user.sleep.push(hrs);document.getElementById('sleepMsg').textContent=`ì˜¤ëŠ˜ ${hrs}ì‹œê°„ ìˆ˜ë©´ ê¸°ë¡ ì™„ë£Œ!`;document.getElementById('sleepInput').value='';}
  },
  quiz:{
    questions:[
      {q:"ìµœê·¼ 2ì£¼ê°„ ê¸°ë¶„ì´ ìš°ìš¸í–ˆë‚˜ìš”?",options:["ì „í˜€","ê°€ë”","ìì£¼","í•­ìƒ"]},
      {q:"ì ì„ ì˜ ëª»ìê±°ë‚˜ ë§ì´ ì¤ë‚˜ìš”?",options:["ì „í˜€","ê°€ë”","ìì£¼","í•­ìƒ"]},
      {q:"í™œë™ì— í¥ë¯¸ê°€ ì¤„ì—ˆë‚˜ìš”?",options:["ì „í˜€","ê°€ë”","ìì£¼","í•­ìƒ"]}
    ],
    render:function(){
      const container=document.getElementById('quizContainer');container.innerHTML='';
      this.questions.forEach((x,i)=>{
        const div=document.createElement('div');div.className='quiz-card';
        div.innerHTML=`<h3>${x.q}</h3>${x.options.map(o=>`<button class="btn btn-secondary" onclick="app.quiz.answer(${i},'${o}')">${o}</button>`).join('')}`;
        container.appendChild(div);
      });
    },
    answers:[],
    answer:function(idx,opt){this.answers[idx]=opt;if(this.answers.length===this.questions.length){alert('í€´ì¦ˆ ì™„ë£Œ! ê²°ê³¼: '+this.answers.join(', '));this.answers=[];app.nav.go('home');}}
  }
};
app.quiz.render();
</script>
</body>
</html>
