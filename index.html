<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ë§ˆìŒ ì±™ê¹€ & ê±´ê°• íŒŒíŠ¸ë„ˆ</title>
<style>
:root{
  --primary:#6366f1; --accent:#10b981; --bg:#f3f4f6; --card:#fff; --text:#1f2937; --danger:#ef4444;
}
*{box-sizing:border-box}
body{font-family:Inter, Pretendard, -apple-system, BlinkMacSystemFont, system-ui, sans-serif;margin:0;background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased}
.app-container{max-width:480px;margin:0 auto;min-height:100vh;background:#fff;box-shadow:0 0 20px rgba(0,0,0,0.05);display:flex;flex-direction:column;position:relative}
header{background:var(--primary);color:white;padding:18px;text-align:center;border-radius:0 0 18px 18px;box-shadow:0 4px 10px rgba(99,102,241,0.2);z-index:10}
header h1{margin:0;font-size:1.15rem}
.screen{display:none;padding:18px;padding-bottom:90px;flex:1;overflow-y:auto}
.screen.active{display:block}
.card{background:var(--card);border-radius:14px;padding:16px;margin-bottom:14px;box-shadow:0 6px 18px rgba(0,0,0,0.03);border:1px solid #f0f0f0}
.action-btn{width:100%;padding:12px;background:var(--primary);color:#fff;border:none;border-radius:10px;font-weight:600;cursor:pointer}
.secondary-btn{background:#eef2ff;color:var(--primary)}
.danger-btn{background:var(--danger);color:#fff}
.bottom-nav{position:fixed;bottom:0;left:0;right:0;background:#fff;border-top:1px solid #eee;display:flex;justify-content:space-around;padding:8px 0;max-width:480px;margin:0 auto;z-index:20;display:none}
.bottom-nav.active{display:flex}
.nav-btn{border:none;background:none;display:flex;flex-direction:column;align-items:center;font-size:0.72rem;color:#6b7280;cursor:pointer}
.nav-btn span{font-size:1.4rem;margin-bottom:4px}
.nav-btn.active{color:var(--primary)}
.mood-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}
.mood-btn{background:#f9fafb;border:2px solid #eee;border-radius:12px;padding:10px;font-size:1.7rem;cursor:pointer}
#chatHistory{height:320px;overflow-y:auto;background:#f8fafc;border-radius:10px;padding:12px;border:1px solid #e2e8f0;display:flex;flex-direction:column;gap:8px}
.msg{max-width:80%;padding:10px 12px;border-radius:12px;font-size:0.95rem;line-height:1.4}
.msg.user{align-self:flex-end;background:var(--primary);color:white;border-bottom-right-radius:4px}
.msg.ai{align-self:flex-start;background:white;border:1px solid #e2e8f0;color:#333;border-bottom-left-radius:4px}
.hidden{display:none}
.stat-value{font-size:1.3rem;font-weight:700;color:var(--primary)}
.time-row{display:flex;gap:8px;align-items:center}
.time-row label{width:60px;font-weight:600;font-size:0.9rem}
.small{font-size:0.86rem;color:#666}
.center{text-align:center}
hr.sep{border:none;border-top:1px solid #eee;margin:12px 0}
</style>
</head>
<body>
<div class="app-container">
  <header><h1 id="headerTitle">ë§ˆìŒ ì±™ê¹€ & ê±´ê°• íŒŒíŠ¸ë„ˆ</h1></header>

  <!-- LOGIN -->
  <div id="screen-login" class="screen active">
    <div class="card center" style="margin-top:36px">
      <div style="font-size:3rem;margin-bottom:8px">ğŸ§˜</div>
      <h2>í™˜ì˜í•©ë‹ˆë‹¤</h2>
      <p class="small">ê±´ê°•í•œ ëª¸ê³¼ ë§ˆìŒì„ ìœ„í•œ ì²« ê±¸ìŒì„ ë‚˜ì•„ê°€ì„¸ìš”!</p>

      <div id="loginBox" style="margin-top:12px">
        <input id="loginId" type="text" placeholder="ì•„ì´ë””" style="width:100%;padding:10px;border-radius:8px;border:1px solid #ddd;margin-top:8px">
        <input id="loginPw" type="password" placeholder="ë¹„ë°€ë²ˆí˜¸" style="width:100%;padding:10px;border-radius:8px;border:1px solid #ddd;margin-top:8px">
        <button class="action-btn" style="margin-top:10px" onclick="app.auth.login()">ë¡œê·¸ì¸</button>
        <button class="action-btn secondary-btn" style="margin-top:8px" onclick="app.ui.toggleSignup(true)">íšŒì›ê°€ì… í•˜ëŸ¬ê°€ê¸°</button>
      </div>

      <div id="signupBox" class="hidden" style="margin-top:12px">
        <input id="regId" type="text" placeholder="ì•„ì´ë”” (í•„ìˆ˜)" style="width:100%;padding:10px;border-radius:8px;border:1px solid #ddd;margin-top:8px">
        <input id="regPw" type="password" placeholder="ë¹„ë°€ë²ˆí˜¸ (í•„ìˆ˜)" style="width:100%;padding:10px;border-radius:8px;border:1px solid #ddd;margin-top:8px">
        <input id="regAge" type="number" placeholder="ë‚˜ì´ (ì„ íƒ)" style="width:100%;padding:10px;border-radius:8px;border:1px solid #ddd;margin-top:8px">
        <button class="action-btn" style="margin-top:10px" onclick="app.auth.signup()">ê°€ì…í•˜ê¸°</button>
        <button class="action-btn secondary-btn" style="margin-top:8px" onclick="app.ui.toggleSignup(false)">ë¡œê·¸ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
      </div>
      <p id="authMsg" class="small" style="color:var(--danger);margin-top:8px"></p>
    </div>
  </div>

  <!-- HOME -->
  <div id="screen-home" class="screen">
    <div class="card">
      <h2>ğŸ‘‹ ì•ˆë…•í•˜ì„¸ìš”, <span id="userNameDisplay">ê²ŒìŠ¤íŠ¸</span>ë‹˜!</h2>
      <p id="greetingMsg" class="small">ì˜¤ëŠ˜ë„ ê±´ê°•í•œ í•˜ë£¨ ë³´ë‚´ì„¸ìš”.</p>
    </div>

    <div class="card">
      <h2>ğŸ“¢ ì˜¤ëŠ˜ì˜ í•œë§ˆë””</h2>
      <p id="dailyQuote" class="small" style="font-style:italic">"ì‘ì€ ë³€í™”ê°€ í° ê²°ê³¼ë¥¼ ë§Œë“­ë‹ˆë‹¤."</p>
    </div>

    <div class="card" id="moodCard" style="cursor:pointer" onclick="app.nav.go('mental')">
      <h2>ğŸ’— í˜„ì¬ ê¸°ë¶„</h2>
      <div id="homeMoodDisplay" class="stat-value">ê¸°ë¡ ì—†ìŒ</div>
      <p class="small">í´ë¦­í•˜ì—¬ ê¸°ë¶„ ê¸°ë¡í•˜ê¸°</p>
    </div>

    <div class="card">
      <h2>ğŸ½ ì˜¤ëŠ˜ì˜ ì¶”ì²œ ì‹ë‹¨</h2>
      <div id="homeFoodResult" style="background:#f3f4f6;padding:12px;border-radius:8px;color:var(--primary);font-weight:700">ì¶”ì²œë°›ì•„ë³´ì„¸ìš”</div>
      <div style="display:flex;gap:8px;margin-top:10px">
        <button class="action-btn" style="flex:1" onclick="app.food.recommend('#homeFoodResult')">ì¶”ì²œë°›ê¸°</button>
        <button class="action-btn secondary-btn" style="flex:1" onclick="app.food.recommend('#homeFoodResult')">ë‹¤ì‹œ</button>
      </div>
    </div>

    <button class="action-btn danger-btn" onclick="app.auth.logout()">ë¡œê·¸ì•„ì›ƒ</button>
  </div>

  <!-- MENTAL -->
  <div id="screen-mental" class="screen">
    <div class="card">
      <h2>ì§€ê¸ˆ ê¸°ë¶„ì´ ì–´ë– ì‹ ê°€ìš”?</h2>
      <p class="small">ê°ì •ì„ ì†”ì§í•˜ê²Œ í‘œí˜„í•´ë³´ì„¸ìš”.</p>
      <div class="mood-grid" style="margin-top:12px">
        <button class="mood-btn" onclick="app.mental.setMood('happy')">ğŸ˜„</button>
        <button class="mood-btn" onclick="app.mental.setMood('calm')">ğŸ˜Œ</button>
        <button class="mood-btn" onclick="app.mental.setMood('neutral')">ğŸ˜</button>
        <button class="mood-btn" onclick="app.mental.setMood('sad')">ğŸ˜¢</button>
        <button class="mood-btn" onclick="app.mental.setMood('angry')">ğŸ˜¡</button>
        <button class="mood-btn" onclick="app.mental.setMood('tired')">ğŸ˜«</button>
      </div>
    </div>
    <div id="moodResultCard" class="card hidden">
      <h2>ğŸ’¡ AIì˜ ê³µê° & ì œì•ˆ</h2>
      <p id="moodComment" style="font-size:1.02rem;color:#374151"></p>
      <p class="small" style="margin-top:8px">ê¸°ë¡ì€ ì•ˆì „í•˜ê²Œ ë¡œì»¬ì— ì €ì¥ë©ë‹ˆë‹¤.</p>
    </div>
  </div>

  <!-- SLEEP -->
  <div id="screen-sleep" class="screen">
    <div class="card">
      <h2>ğŸŒ™ ìˆ˜ë©´ ê¸°ë¡</h2>
      <div class="time-row" style="margin-top:10px">
        <label>ì·¨ì¹¨</label>
        <input id="sleepTime" type="time">
        <select id="sleepAmpm" style="padding:8px;border-radius:8px;border:1px solid #ddd">
          <option>PM</option><option>AM</option>
        </select>
      </div>
      <div class="time-row" style="margin-top:8px">
        <label>ê¸°ìƒ</label>
        <input id="wakeTime" type="time">
        <select id="wakeAmpm" style="padding:8px;border-radius:8px;border:1px solid #ddd">
          <option>AM</option><option>PM</option>
        </select>
      </div>
      <div style="margin-top:10px">
        <button class="action-btn" onclick="app.sleep.save()">ê¸°ë¡ ì €ì¥</button>
      </div>
    </div>

    <div class="card">
      <h2>ğŸ“… ìµœê·¼ ìˆ˜ë©´ ì´ë ¥</h2>
      <ul id="sleepList" style="list-style:none;padding:0;margin:0;font-size:0.9rem;color:#555">
        <li>ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.</li>
      </ul>
    </div>
  </div>

  <!-- FOOD -->
  <div id="screen-food" class="screen">
    <div class="card center">
      <div style="font-size:3rem">ğŸ¥—</div>
      <h2>ì˜¤ëŠ˜ ë­ ë¨¹ì„ê¹Œìš”?</h2>
      <p class="small">ê±´ê°•í•œ ì„ íƒì„ ì¶”ì²œí•´ë“œë ¤ìš”.</p>

      <div style="background:#f3f4f6;padding:16px;border-radius:10px;margin:14px 0">
        <h3 id="foodResult" style="margin:0;color:var(--primary);font-size:1.2rem">ì¶”ì²œì„ ë°›ì•„ë³´ì„¸ìš”</h3>
      </div>

      <button class="action-btn" onclick="app.food.recommend('#foodResult')">ëœë¤ ì¶”ì²œ ë°›ê¸°</button>
      <p class="small" style="margin-top:10px">*ë°ì´í„°ë² ì´ìŠ¤ í˜•ì‹ìœ¼ë¡œ 5,000ê°œ ì´ìƒì˜ ê±´ê°•ì‹ ìƒì„±(í´ë¼ì´ì–¸íŠ¸ ì‹œë®¬ë ˆì´ì…˜)</p>
    </div>
  </div>

  <!-- GAME -->
  <div id="screen-game" class="screen">
    <div class="card">
      <h2>ğŸ§  ê±´ê°• ìƒì‹ í€´ì¦ˆ</h2>
      <div style="margin:16px 0">
        <p id="gameQuestion" style="font-weight:bold;font-size:1.02rem;margin-bottom:8px">ë¬¸ì œë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
        <input id="gameAnswer" type="text" placeholder="ì •ë‹µì„ ì…ë ¥í•˜ì„¸ìš”" style="width:100%;padding:10px;border-radius:8px;border:1px solid #ddd">
      </div>
      <div style="display:flex;gap:8px">
        <button class="action-btn" style="flex:1" onclick="app.game.check()">ì •ë‹µ í™•ì¸</button>
        <button class="action-btn secondary-btn" style="flex:1" onclick="app.game.next()">ë‹¤ìŒ ë¬¸ì œ</button>
      </div>
      <div id="gameFeedback" style="margin-top:12px;font-weight:700"></div>
      <div style="margin-top:10px" class="small">ë¬¸ì œëŠ” ë³€í˜• ìƒì„±í•˜ì—¬ 500ê°œ ì´ìƒ ì œê³µë©ë‹ˆë‹¤.</div>
    </div>
  </div>

  <!-- CHAT -->
  <div id="screen-chat" class="screen">
    <div class="card" style="height:calc(100vh - 210px);display:flex;flex-direction:column">
      <h2 style="flex-shrink:0">ğŸ¤– AI ìƒë‹´ì‚¬</h2>
      <div id="chatHistory" style="flex:1">
        <div class="msg ai">ì•ˆë…•í•˜ì„¸ìš”! ì˜¤ëŠ˜ í•˜ë£¨ëŠ” ì–´ë– ì…¨ë‚˜ìš”? í¸í•˜ê²Œ ì´ì•¼ê¸°í•´ ì£¼ì„¸ìš”.</div>
      </div>
      <div style="display:flex;gap:8px;margin-top:10px;flex-shrink:0">
        <input id="chatInput" type="text" placeholder="ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”..." style="flex:1;padding:10px;border-radius:8px;border:1px solid #ddd" onkeypress="if(event.key==='Enter') app.chat.send()">
        <button class="action-btn" style="width:64px" onclick="app.chat.send()">â¤</button>
      </div>
    </div>
  </div>

  <nav id="bottomNav" class="bottom-nav">
    <button class="nav-btn" data-screen="home" onclick="app.nav.go('home')"><span>ğŸ </span>í™ˆ</button>
    <button class="nav-btn" data-screen="mental" onclick="app.nav.go('mental')"><span>ğŸ’•</span>ë©˜íƒˆ</button>
    <button class="nav-btn" data-screen="sleep" onclick="app.nav.go('sleep')"><span>ğŸŒ™</span>ìˆ˜ë©´</button>
    <button class="nav-btn" data-screen="food" onclick="app.nav.go('food')"><span>ğŸ¥—</span>ìŒì‹</button>
    <button class="nav-btn" data-screen="game" onclick="app.nav.go('game')"><span>ğŸ®</span>ê²Œì„</button>
    <button class="nav-btn" data-screen="chat" onclick="app.nav.go('chat')"><span>ğŸ’¬</span>ìƒë‹´</button>
  </nav>
</div>

<script>
// ì—¬ê¸°ì„œë¶€í„° JS í†µí•©
const DATA = { foods:[], aiKeywordsByCategory:{}, aiResponses:{}, games:[] };
const app = {
  state:{ user:null, currentGame:null },

  init:function(){
    this.dataGenerator.initAll({foods:5000, aiKeywords:2200, games:600});
    this.auth.checkSession();
    this.game.next();
    this.setupNavActiveBehavior();
    this.setDailyQuote();
  },

  auth:{
    getUsers: ()=>JSON.parse(localStorage.getItem('app_users')||'{}'),
    saveUsers: u=>localStorage.setItem('app_users', JSON.stringify(u)),

    signup:function(){
      const id=document.getElementById('regId').value.trim();
      const pw=document.getElementById('regPw').value.trim();
      const age=document.getElementById('regAge').value.trim();
      const msgEl=document.getElementById('authMsg'); msgEl.textContent='';
      if(!id||!pw){ msgEl.textContent='ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.'; return; }
      const users=app.auth.getUsers();
      if(users[id]){ msgEl.textContent='ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì•„ì´ë””ì…ë‹ˆë‹¤.'; return; }
      users[id]={pw, age:age||null, joinDate:new Date().toISOString()};
      app.auth.saveUsers(users);
      alert('íšŒì›ê°€ì… ì™„ë£Œ! ë¡œê·¸ì¸ í•´ì£¼ì„¸ìš”.');
      app.ui.toggleSignup(false);
      document.getElementById('regId').value=''; document.getElementById('regPw').value=''; document.getElementById('regAge').value='';
    },

    login:function(){
      const id=document.getElementById('loginId').value.trim();
      const pw=document.getElementById('loginPw').value.trim();
      const users=app.auth.getUsers();
      const msgEl=document.getElementById('authMsg'); msgEl.textContent='';
      if(users[id]&&users[id].pw===pw){
        app.state.user={id,...users[id]};
        localStorage.setItem('app_current_user', JSON.stringify(app.state.user));
        app.ui.onLoginSuccess();
      }else msgEl.textContent='ì•„ì´ë”” ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.';
    },

    logout:function(){
      if(confirm('ì •ë§ ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')){ localStorage.removeItem('app_current_user'); app.state.user=null; app.nav.go('login'); }
    },

    checkSession:function(){
      const u=JSON.parse(localStorage.getItem('app_current_user')||'null');
      if(u){ app.state.user=u; app.ui.onLoginSuccess(); }
    }
  },

  ui:{
    toggleSignup:function(show){ document.getElementById('signupBox').classList.toggle('hidden',!show); document.getElementById('loginBox').classList.toggle('hidden',show); document.getElementById('authMsg').textContent=''; },
    onLoginSuccess:function(){
      app.nav.go('home');
      document.getElementById('bottomNav').classList.add('active');
      document.getElementById('userNameDisplay').textContent=app.state.user.id;
    }
  },

  nav:{
    go:function(screen){
      document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
      document.getElementById('screen-'+screen).classList.add('active');
      document.querySelectorAll('.nav-btn').forEach(b=>b.classList.remove('active'));
      const btn=document.querySelector('.nav-btn[data-screen="'+screen+'"]'); if(btn) btn.classList.add('active');
    }
  },

  mood:{ 
    setMood:function(m){
      const comment=document.getElementById('moodComment');
      const card=document.getElementById('moodResultCard');
      const moodMap={happy:'ì˜¤ëŠ˜ì€ ì›ƒì„ ì¼ì´ ë§ë„¤ìš”! ğŸŒ', calm:'í‰ì˜¨í•œ í•˜ë£¨ ë³´ë‚´ì‹œê¸¸ ë°”ëë‹ˆë‹¤ ğŸ•Šï¸', neutral:'ë¬´ë‚œí•œ í•˜ë£¨ë„¤ìš”. ì‘ì€ ë³€í™” ì‹œë„í•´ë³´ì„¸ìš”.', sad:'ì¡°ê¸ˆ í˜ë“ ê°€ìš”? ì¶©ë¶„íˆ ì‰¬ì–´ë„ ê´œì°®ì•„ìš” ğŸ’›', angry:'í™”ê°€ ë‚˜ì…¨êµ°ìš” ğŸ˜¡, ê¹Šê²Œ ìˆ¨ì‰¬ê¸° ì—°ìŠµì„ í•´ë³´ì„¸ìš”.', tired:'í”¼ê³¤í•˜ì‹œêµ°ìš” ğŸ˜´, ì ê¹ì´ë¼ë„ íœ´ì‹í•˜ì„¸ìš”.'};
      document.getElementById('homeMoodDisplay').textContent=m;
      comment.textContent=moodMap[m]||'ì˜¤ëŠ˜ í•˜ë£¨ ì–´ë– ì…¨ë‚˜ìš”?';
      card.classList.remove('hidden');
      // ë¡œì»¬ ì €ì¥
      const moods=JSON.parse(localStorage.getItem('app_moods_'+app.state.user.id)||'[]');
      moods.push({date:new Date().toISOString(), mood:m});
      localStorage.setItem('app_moods_'+app.state.user.id, JSON.stringify(moods));
    }
  },

  sleep:{
    save:function(){
      const sleep=document.getElementById('sleepTime').value;
      const wake=document.getElementById('wakeTime').value;
      const sleepAmpm=document.getElementById('sleepAmpm').value;
      const wakeAmpm=document.getElementById('wakeAmpm').value;
      if(!sleep||!wake){ alert('ì‹œê°„ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”'); return; }
      const rec={sleep:sleep+' '+sleepAmpm, wake:wake+' '+wakeAmpm, date:new Date().toLocaleDateString()};
      const key='app_sleep_'+app.state.user.id;
      const data=JSON.parse(localStorage.getItem(key)||'[]');
      data.unshift(rec);
      localStorage.setItem(key, JSON.stringify(data));
      this.render();
      alert('ìˆ˜ë©´ ê¸°ë¡ ì €ì¥ ì™„ë£Œ!');
    },
    render:function(){
      const key='app_sleep_'+app.state.user.id;
      const data=JSON.parse(localStorage.getItem(key)||'[]');
      const list=document.getElementById('sleepList'); list.innerHTML='';
      if(!data.length){ list.innerHTML='<li>ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.</li>'; return; }
      data.forEach(d=>{ const li=document.createElement('li'); li.textContent=`${d.date} | ì·¨ì¹¨: ${d.sleep}, ê¸°ìƒ: ${d.wake}`; list.appendChild(li); });
    }
  },

  food:{
    recommend:function(target){
      const f=DATA.foods[Math.floor(Math.random()*DATA.foods.length)];
      document.querySelector(target).textContent=f;
    }
  },

  game:{
    next:function(){
      const g=DATA.games[Math.floor(Math.random()*DATA.games.length)];
      app.state.currentGame=g;
      document.getElementById('gameQuestion').textContent=g.q;
      document.getElementById('gameAnswer').value='';
      document.getElementById('gameFeedback').textContent='';
    },
    check:function(){
      const ans=document.getElementById('gameAnswer').value.trim().toLowerCase();
      if(ans===app.state.currentGame.a.toLowerCase()) document.getElementById('gameFeedback').textContent='âœ… ì •ë‹µì…ë‹ˆë‹¤!';
      else document.getElementById('gameFeedback').textContent=`âŒ ì˜¤ë‹µì…ë‹ˆë‹¤. ì •ë‹µ: ${app.state.currentGame.a}`;
    }
  },

  chat:{
    send:function(){
      const input=document.getElementById('chatInput'); const text=input.value.trim(); if(!text) return;
      const hist=document.getElementById('chatHistory');
      const msgUser=document.createElement('div'); msgUser.className='msg user'; msgUser.textContent=text; hist.appendChild(msgUser);
      input.value='';
      hist.scrollTop=hist.scrollHeight;

      // AI ë°˜ì‘ ì‹œë®¬ë ˆì´ì…˜
      const msgAI=document.createElement('div'); msgAI.className='msg ai';
      msgAI.textContent=app.chat.generateResponse(text);
      hist.appendChild(msgAI);
      hist.scrollTop=hist.scrollHeight;
    },
    generateResponse:function(text){
      const lower=text.toLowerCase();
      if(lower.includes('í˜ë“¤')) return 'ë¬´ì²™ í˜ë“œì‹ ê°€ë³´ë„¤ìš”. ì ì‹œ ìˆ¨ ëŒë¦¬ì‹œê³ , ì¢‹ì•„í•˜ëŠ” ìŒì•…ì´ë‚˜ ê°„ë‹¨í•œ ìŠ¤íŠ¸ë ˆì¹­ ì–´ë– ì„¸ìš”?';
      if(lower.includes('ë°°ê³ í”„')) return 'ì‹ì‚¬ ì‹œê°„ì´êµ°ìš”! ê°„ë‹¨í•œ ê³¼ì¼ì´ë‚˜ ê±´ê°• ê°„ì‹ë„ ì¢‹ìŠµë‹ˆë‹¤.';
      if(lower.includes('ì¡¸ë ¤')) return 'í”¼ê³¤í•˜ì‹œêµ°ìš”. ì§§ì€ ë‚®ì ì´ë‚˜ ê°€ë²¼ìš´ íœ´ì‹ì„ ì¶”ì²œë“œë ¤ìš”.';
      return 'ê·¸ë ‡êµ°ìš”. ì¡°ê¸ˆ ë” ìì„¸íˆ ë§ì”€í•´ì£¼ì‹¤ë˜ìš”?';
    }
  },

  dataGenerator:{
    initAll:function(opts){
      // ìŒì‹
      for(let i=1;i<=opts.foods;i++) DATA.foods.push(`ê±´ê°•ì‹ ${i}`);
      // ê²Œì„
      for(let i=1;i<=opts.games;i++) DATA.games.push({q:`ê±´ê°• ìƒì‹ ë¬¸ì œ ${i}`, a:`ì •ë‹µ ${i}`});
    }
  },

  setupNavActiveBehavior:function(){
    document.querySelectorAll('.nav-btn').forEach(b=>b.addEventListener('click',()=>{ document.querySelectorAll('.nav-btn').forEach(bb=>bb.classList.remove('active')); b.classList.add('active'); }));
  },

  setDailyQuote:function(){
    const quotes=["ì‘ì€ ë³€í™”ê°€ í° ê²°ê³¼ë¥¼ ë§Œë“­ë‹ˆë‹¤.","ì˜¤ëŠ˜ í•˜ë£¨ë„ í™”ì´íŒ…!","ë§ˆìŒì„ í¸íˆ ê°€ì§€ì„¸ìš”.","ê±´ê°•ì´ ìµœìš°ì„ ì…ë‹ˆë‹¤."];
    document.getElementById('dailyQuote').textContent=quotes[Math.floor(Math.random()*quotes.length)];
  }
};

window.addEventListener('DOMContentLoaded',()=>{ app.init(); app.sleep.render(); });
</script>
</body>
</html>
