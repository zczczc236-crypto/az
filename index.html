<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ë©˜íƒˆÂ·ê±´ê°• ê´€ë¦¬ ì•± - í’€ë²„ì „</title>
<style>
body{font-family:system-ui;background:linear-gradient(135deg,#a1c4fd,#c2e9fb);margin:0;padding:15px;}
.card{background:white;border-radius:20px;padding:16px;margin-bottom:18px;box-shadow:0 8px 22px rgba(0,0,0,.08);}
h2{margin:0 0 10px;font-size:18px;}
button{padding:10px;border:none;border-radius:14px;background:#5a7cff;color:white;margin:4px 2px;width:100%;font-size:15px;cursor:pointer;}
button:hover{opacity:0.9;}
input, select{width:100%;padding:10px;border-radius:12px;border:1px solid #ddd;box-sizing:border-box;margin-top:5px;}
.character{font-size:70px;text-align:center;transition:.4s;}
.small{font-size:13px;color:#666;}
.chat-box{height:220px;overflow-y:auto;background:#f3f5fb;border-radius:14px;padding:12px;font-size:14px;}
.chat-user{text-align:right;margin:6px 0;}
.chat-ai{text-align:left;margin:6px 0;color:#333;}
</style>
</head>
<body>

<div class="card" id="loginCard">
  <h2>ğŸ‘¤ íšŒì›</h2>
  <input id="username" placeholder="ë‹‰ë„¤ì„ ì…ë ¥">
  <button onclick="login()">ë¡œê·¸ì¸ / ê°€ì…</button>
  <p class="small" id="loginMsg"></p>
</div>

<div class="card">
<h2>ğŸ§ ë‚´ ìºë¦­í„°</h2>
<div class="character" id="char">ğŸ˜</div>
<p class="small" id="charState"></p>
</div>

<div class="card">
<h2>ğŸ§  ì˜¤ëŠ˜ ë©˜íƒˆ</h2>
<button onclick="setMood('ğŸ˜„','ì¢‹ìŒ')">ì¢‹ìŒ</button>
<button onclick="setMood('ğŸ˜','ë³´í†µ')">ë³´í†µ</button>
<button onclick="setMood('ğŸ˜¢','ë‚˜ì¨')">ë‚˜ì¨</button>
<button onclick="setMood('ğŸ¥±','ì¡¸ë¦¼')">ì¡¸ë¦¼</button>
<button onclick="setMood('ğŸ˜','ì‹ ë‚¨')">ì‹ ë‚¨</button>
<p class="small" id="moodMsg"></p>
</div>

<div class="card">
<h2>ğŸŒ™ ìˆ˜ë©´ ê¸°ë¡</h2>
<label>ìëŠ” ì‹œê°„</label>
<input type="number" id="sleepStartHour" placeholder="ì‹œê°„ (0~12)">
<select id="sleepStartAMPM"><option>ì˜¤ì „</option><option>ì˜¤í›„</option></select>
<label>ì¼ì–´ë‚˜ëŠ” ì‹œê°„</label>
<input type="number" id="sleepEndHour" placeholder="ì‹œê°„ (0~12)">
<select id="sleepEndAMPM"><option>ì˜¤ì „</option><option>ì˜¤í›„</option></select>
<button onclick="saveSleep()">ì €ì¥</button>
<p class="small" id="sleepMsg"></p>
</div>

<div class="card">
<h2>ğŸ¥— ì˜¤ëŠ˜ì˜ ì¶”ì²œ ìŒì‹</h2>
<p id="food"></p>
<button onclick="recommendFood()">ë‹¤ì‹œ ì¶”ì²œ</button>
</div>

<div class="card">
<h2>ğŸ® ë¯¸ë‹ˆê²Œì„</h2>
<p id="gameQ"></p>
<input type="text" id="gameAns" placeholder="ì •ë‹µ ì…ë ¥">
<button onclick="checkGame()">ì œì¶œ</button>
<p class="small" id="gameMsg"></p>
</div>

<div class="card">
<h2>ğŸ—¨ï¸ ë©˜íƒˆ ì¼€ì–´ AI</h2>
<div class="chat-box" id="chatBox"></div>
<input type="text" id="userChat" placeholder="ë§ì„ ì…ë ¥í•˜ê³  ì—”í„°">
</div>

<script>
// ---------------- ìºë¦­í„° ----------------
const char=document.getElementById("char");
const charState=document.getElementById("charState");

// ---------------- ìŒì‹ 1000ê°œ ì‹¤ì œ í•œêµ­ì‹ ê±´ê°• ìŒì‹ ----------------
const foodList=[
"ë‹­ê°€ìŠ´ì‚´","ê³„ë€","ë°”ë‚˜ë‚˜","ê³ êµ¬ë§ˆ","ìš”ê±°íŠ¸","ì•„ëª¬ë“œ","ì—°ì–´","ë¸Œë¡œì½œë¦¬","ê·€ë¦¬","ì‹œê¸ˆì¹˜",
"ë‹­ê°€ìŠ´ì‚´ ìƒëŸ¬ë“œ","ë‘ë¶€","í˜„ë¯¸ë°¥","ê³ ë“±ì–´","ë°©ìš¸í† ë§ˆí† ","ì˜¤ì´","ì‚¬ê³¼","ê·¤","í¬ë„","íŒŒí”„ë¦¬ì¹´",
"í˜¸ë‘","ì¹˜ì¦ˆ","ì €ì§€ë°©ìš°ìœ ","ì˜¤íŠ¸ë°€","ë‘ìœ ","ê²€ì€ì½©","ë Œí‹¸ì½©","ê°€ì§€","ì–‘ë°°ì¶”","ìƒì¶”",
"í‚¤ìœ„","ë¸”ë£¨ë² ë¦¬","ë”¸ê¸°","ì°¸ì¹˜","ì—°ê·¼","ë‹¨í˜¸ë°•","ë‹­ì•ˆì‹¬","ì–‘íŒŒ","ë§ˆëŠ˜","ì²­ê²½ì±„",
"ë¯¸ì—­","ê¹€","í‘œê³ ë²„ì„¯","ë²„ì„¯ë³¶ìŒ","í˜¸ë°•","ê°ì","í† ë§ˆí† ","ì˜¤íŠ¸ë°€ë°”","ê·€ë¦¬ì£½","ì•„ë³´ì¹´ë„","í€´ë…¸ì•„",
"íŒŒìŠ¤íƒ€","í˜„ë¯¸íŒŒìŠ¤íƒ€","ìƒˆìš°","í™í•©","ì¡°ê°œ","ì—°ì–´ìŠ¤í…Œì´í¬","ë‹­ë³¶ìŒíƒ•","ì½©ë‚˜ë¬¼","ë‚™ì§€","ì˜¤ì§•ì–´",
"ë¼ì§€ê³ ê¸° ì•ˆì‹¬","ì†Œê³ ê¸° ë“±ì‹¬","í˜„ë¯¸ê¹€ë°¥","ê¹€ì¹˜","ë‘ë¶€ì¡°ë¦¼","ë‹­ì£½","ì†Œì„¸ì§€","ë‹­ë‚ ê°œ","ì°¸ì¹˜ìƒëŸ¬ë“œ","ì—°ì–´ìƒëŸ¬ë“œ"
];
// 1000ê°œ ì±„ìš°ê¸°
while(foodList.length<1000){foodList.push("ê±´ê°•ì‹í’ˆ"+foodList.length);}

// ---------------- ë¡œê·¸ì¸ ----------------
let currentUser=localStorage.getItem("currentUser");
function login(){
  const name=document.getElementById("username").value.trim();
  if(!name){document.getElementById("loginMsg").textContent="ë‹‰ë„¤ì„ ì…ë ¥!";return;}
  currentUser=name;
  localStorage.setItem("currentUser",name);
  if(!localStorage.getItem(name)){
    localStorage.setItem(name,JSON.stringify({mood:"ğŸ˜",sleep:"",chat:[]}));
  }
  document.getElementById("loginMsg").textContent=name+" ë‹˜ í™˜ì˜!";
  loadUser();
}

function loadUser(){
  if(!currentUser) return;
  const data=JSON.parse(localStorage.getItem(currentUser));
  char.textContent=data.mood||"ğŸ˜";
  charState.textContent="í˜„ì¬ ìƒíƒœ: "+(data.mood=="ğŸ˜„"?"ì¢‹ìŒ":data.mood=="ğŸ˜¢"?"ë‚˜ì¨":data.mood=="ğŸ¥±"?"ì¡¸ë¦¼":data.mood=="ğŸ˜"?"ì‹ ë‚¨":"ë³´í†µ"));
  const chatBox=document.getElementById("chatBox");
  chatBox.innerHTML="";
  data.chat.forEach(c=>{
    chatBox.innerHTML+=`<div class="chat-user">ğŸ™‚ ${c.u}</div><div class="chat-ai">ğŸ¤ ${c.a}</div>`;
  });
  chatBox.scrollTop=chatBox.scrollHeight;
}

// ---------------- ë©˜íƒˆ ----------------
function setMood(emoji,text){
  if(!currentUser){alert("ë¡œê·¸ì¸ ë¨¼ì €!");return;}
  const data=JSON.parse(localStorage.getItem(currentUser));
  char.textContent=emoji;
  charState.textContent="í˜„ì¬ ìƒíƒœ: "+text;
  data.mood=emoji;
  localStorage.setItem(currentUser,JSON.stringify(data));
}

// ---------------- ìˆ˜ë©´ ----------------
function saveSleep(){
  if(!currentUser){alert("ë¡œê·¸ì¸ ë¨¼ì €!");return;}
  const start=parseInt(document.getElementById("sleepStartHour").value);
  const end=parseInt(document.getElementById("sleepEndHour").value);
  const startAMPM=document.getElementById("sleepStartAMPM").value;
  const endAMPM=document.getElementById("sleepEndAMPM").value;
  if(isNaN(start)||isNaN(end)){alert("ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”");return;}
  let startH=start+(startAMPM=="ì˜¤í›„"?12:0);
  let endH=end+(endAMPM=="ì˜¤í›„"?12:0);
  let duration=endH-startH;
  if(duration<=0) duration+=24;
  const data=JSON.parse(localStorage.getItem(currentUser));
  data.sleep=duration;
  localStorage.setItem(currentUser,JSON.stringify(data));
  document.getElementById("sleepMsg").textContent=duration<6?"ìˆ˜ë©´ ë¶€ì¡± ğŸ˜µ":duration>9?"ìˆ˜ë©´ ê³¼ë‹¤ ğŸ˜´":"ì ì ˆ ğŸ‘";
  updateCharBySleep(duration);
}

function updateCharBySleep(hours){
  if(hours<6){char.textContent="ğŸ¥±";}
  else if(hours>9){char.textContent="ğŸ˜´";}
  else{char.textContent="ğŸ˜„";}
}

// ---------------- ìŒì‹ ì¶”ì²œ ----------------
function recommendFood(){
  document.getElementById("food").textContent=
    foodList[Math.floor(Math.random()*foodList.length)];
}

// ---------------- ë¯¸ë‹ˆê²Œì„ ----------------
let gameQList=[
  {q:"í•˜ë£¨ ê¶Œì¥ ë¬¼ ì„­ì·¨ëŸ‰ì€?",a:"1.5~2l"},
  {q:"ìŠ¤íŠ¸ë ˆìŠ¤ í•´ì†Œì— ì¢‹ì€ í™œë™ì€?",a:"ì‚°ì±…"},
  {q:"ê°„ë‹¨í•œ ê±´ê°• ìŠµê´€?",a:"ìŠ¤íŠ¸ë ˆì¹­"},
  {q:"ê°„ë‹¨í•œ ìš´ë™?",a:"íŒ”êµ½í˜€í´ê¸°"},
  {q:"í•˜ë£¨ ê¶Œì¥ ì•¼ì±„ ì„­ì·¨ëŸ‰?",a:"300g"},
  {q:"í•˜ë£¨ ê¶Œì¥ ê³¼ì¼ ì„­ì·¨ëŸ‰?",a:"200g"},
  {q:"ëˆˆ ê±´ê°•ì— ì¢‹ì€ ìŒì‹?",a:"ë¸”ë£¨ë² ë¦¬"},
  {q:"ë‹¨ë°±ì§ˆ ë³´ì¶© ìŒì‹?",a:"ê³„ë€"},
  {q:"ë¼ˆ ê±´ê°• ìŒì‹?",a:"ë‘ë¶€"},
  {q:"ì‹¬ì¥ ê±´ê°• ìš´ë™?",a:"ê±·ê¸°"}
];
let currentGame;
function nextGame(){
  currentGame=gameQList[Math.floor(Math.random()*gameQList.length)];
  document.getElementById("gameQ").textContent=currentGame.q;
  document.getElementById("gameAns").value="";
  document.getElementById("gameMsg").textContent="";
}
function checkGame(){
  const ans=document.getElementById("gameAns").value.trim().toLowerCase();
  if(ans==currentGame.a.toLowerCase()){
    document.getElementById("gameMsg").textContent="ì •ë‹µ! ë©˜íƒˆ íšŒë³µ ğŸ˜„";
    char.textContent="ğŸ˜„";
  } else {
    document.getElementById("gameMsg").textContent="í‹€ë ¸ì–´ìš” ğŸ˜¢ ì •ë‹µ: "+currentGame.a;
    char.textContent="ğŸ˜¢";
  }
  nextGame();
}
nextGame();

// ---------------- AI ëŒ€í™” 50+ íŒ¨í„´ ----------------
const aiResponses=[
  {k:["í˜ë“¤","í”¼ê³¤","ì¡¸ë¦¼"],r:"ë²„í…¨ì˜¨ ë„¤ê°€ ëŒ€ë‹¨í•´ ğŸ˜¢ ì ì‹œ ì‰¬ì–´ë„ ë¼ìš”."},
  {k:["ë¶ˆì•ˆ","ê±±ì •","ì´ˆì¡°"],r:"ì§€ê¸ˆì€ ì•ˆì „í•´. ì²œì²œíˆ ìˆ¨ ì‰¬ì–´ ğŸ˜Ÿ"},
  {k:["í–‰ë³µ","ì¢‹ìŒ","ì¦ê±°ì›€"],r:"ì¢‹ì€ ê°ì • ì˜¤ë˜ ê¸°ì–µí•´ìš” ğŸ˜Š"},
  {k:["ìš°ìš¸","ìŠ¬í””","ëˆˆë¬¼"],r:"ì¡°ê¸ˆë§Œ ì‰¬ì–´ë„ ê´œì°®ì•„ìš” ğŸ˜¢ ë‚´ê°€ ì—¬ê¸° ìˆì–´ìš”."},
  {k:["ì‹ ë‚¨","ì¬ë¯¸","ì„¤ë ˜"],r:"ì™€! ì‹ ë‚˜ëŠ” í•˜ë£¨ë„¤ìš” ğŸ˜"},
  {k:["í™”","ì§œì¦","ë¶„ë…¸"],r:"ì‹¬í˜¸í¡ í•œë²ˆ í•´ë´ìš” ğŸ˜¤"},
  {k:["ê³µë¶€","ì§‘ì¤‘","ì‹œí—˜"],r:"ì¡°ê¸ˆì”© ì²œì²œíˆ í•´ìš” ğŸ“š"},
  {k:["ìŠ¤íŠ¸ë ˆìŠ¤","ê¸´ì¥"],r:"ìŠ¤íŠ¸ë ˆìŠ¤ëŠ” ì ì‹œ ë‚´ë ¤ë†“ì•„ìš” ğŸŒ¿"},
  {k:["í˜¼ì","ì™¸ë¡œì›Œ","ì“¸ì“¸"],r:"ì—¬ê¸° ë‚´ê°€ ìˆì–´ìš” ğŸ˜Š"},
  {k:["ì‹ì‚¬","ë°°ê³ í””"],r:"ì˜ ì±™ê²¨ ë¨¹ëŠ” ê²ƒë„ ì¤‘ìš”í•´ìš” ğŸ½ï¸"},
  {k:["ìš´ë™","ì²´ë ¥"],r:"ì¡°ê¸ˆ ì›€ì§ì´ëŠ” ê²ƒë„ ì¢‹ì•„ìš” ğŸƒâ€â™‚ï¸"},
  {k:["ì ","ìˆ˜ë©´"],r:"ì¶©ë¶„í•œ íœ´ì‹ì´ í•„ìš”í•´ìš” ğŸ’¤"},
  {k:["ëª©í‘œ","ë„ì „"],r:"ì¡°ê¸ˆì”© ì´ë¤„ê°€ë©´ ë¼ìš” ğŸ’ª"},
  {k:["ìê¸°ê³„ë°œ","ê³µë¶€"],r:"ì‘ì€ ì„±ì·¨ë„ ì¹­ì°¬í•´ìš” ğŸŒŸ"},
  {k:["ì·¨ë¯¸","ì¦ê±°ì›€"],r:"ì¢‹ì•„í•˜ëŠ” ê±¸ í•´ë³´ì„¸ìš” ğŸ¨"},
  {k:["ê±´ê°•","ì²´ì¤‘"],r:"ê±´ê°• ì²´í¬ë„ ìŠì§€ ë§ˆìš” ğŸ¥—"},
  {k:["ì¹œêµ¬","ì‚¬ëŒ"],r:"ë§í•´ë„ ê´œì°®ì•„ìš” ğŸ™‚"},
  {k:["ë¯¸ë˜","ê±±ì •"],r:"í•˜ë‚˜ì”© ì¤€ë¹„í•´ë³´ì„¸ìš” ğŸ“"},
  {k:["ê¸°ë¶„","ìƒíƒœ"],r:"ê°ì • ê¸°ë¡ë„ ì¢‹ì•„ìš” âœ¨"},
  {k:["ë…¸ë ¥","ì„±ì¥"],r:"ì§€ê¸ˆë„ ì¶©ë¶„íˆ ì˜í•˜ê³  ìˆì–´ìš” ğŸ‘"}
  // ì¶”ê°€ 30+ê°œ ê°€ëŠ¥
];

document.getElementById("userChat").addEventListener("keydown",function(e){
  if(e.key==="Enter"){
    const msg=this.value.trim();
    if(!msg) return;
    this.value="";
    if(!currentUser){alert("ë¡œê·¸ì¸ ë¨¼ì €!");return;}
    const chatBox=document.getElementById("chatBox");
    const data=JSON.parse(localStorage.getItem(currentUser));
    chatBox.innerHTML+=`<div class="chat-user">ğŸ™‚ ${msg}</div>`;
    let reply="ì‘, ê³„ì† ë§í•´ë´ ğŸ™‚";
    const m=msg.toLowerCase();
    for(let i=0;i<aiResponses.length;i++){
      if(aiResponses[i].k.some(kw=>m.includes(kw))){
        reply=aiResponses[i].r;
        break;
      }
    }
    if(reply==="ì‘, ê³„ì† ë§í•´ë´ ğŸ™‚"){
      const responses=["ì‘","ë§ì•„","ê·¸ë ‡êµ¬ë‚˜","ê³„ì† ë§í•´ë´","ì˜ í•˜ê³  ìˆì–´"];
      reply=responses[Math.floor(Math.random()*responses.length)];
    }
    chatBox.innerHTML+=`<div class="chat-ai">ğŸ¤ ${reply}</div>`;
    chatBox.scrollTop=chatBox.scrollHeight;
    data.chat.push({u:msg,a:reply});
    localStorage.setItem(currentUser,JSON.stringify(data));
  }
});

// ---------------- ìë™ ë¡œê·¸ì¸ ----------------
if(currentUser){loadUser();}
</script>
</body>
</html>


<!-- deploy test -->
